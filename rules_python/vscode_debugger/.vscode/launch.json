{
    "version": "0.2.0",
    "configurations": [
        
        {
            "name": "Python: Bazel py run",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/vscode/launch.py",
            "args": ["run", "${input:pickBazelPyRunTarget}"],
            "console": "integratedTerminal",
            "env": {
                // This is necessary so that the the debugger hits breakpoints in original
                // source and not the symlinks in bazel output.
                "PYDEVD_RESOLVE_SYMLINKS": "1",
                // This is needed to get `justMyCode` to work correctly.
                "IDE_PROJECT_ROOTS": "${workspaceFolder}",
            },
        },
        {
            "name": "Python: Bazel py test",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/vscode/launch.py",
            "args": ["test", "${input:pickBazelPyTestTarget}"],
            "console": "integratedTerminal",
            "env": {
                // This is necessary so that the the debugger hits breakpoints in original
                // source and not the symlinks in bazel output.
                "PYDEVD_RESOLVE_SYMLINKS": "1",
                // This is needed to get `justMyCode` to work correctly.
                "IDE_PROJECT_ROOTS": "${workspaceFolder}",
            },
        },

    ],
    "inputs": [
        {
            "id": "pickBazelPyRunTarget",
            "type": "command",
            "command": "bazel.pickTarget",
            "args": {
              "query": "kind('py_test|py_binary', //...:*)",
            },
        },
        {
            "id": "pickBazelPyTestTarget",
            "type": "command",
            "command": "bazel.pickTarget",
            "args": {
              "query": "kind('py_test', //...:*)",
            },
        },
    ]
}
